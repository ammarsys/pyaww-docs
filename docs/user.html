<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>pyaww.user API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>pyaww.user</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python"># Standard library imports

import json

from typing import Iterator, Optional, TextIO

# Related third party imports

import requests

# Local application/library specific imports

from .console import Console
from .file import File
from .sched_task import SchedTask
from .always_on_task import AlwaysOnTask
from .webapp import WebApp
from .types import cache_type
from .errors import raise_error
from .utils import cache_func


class User:
    &#34;&#34;&#34;
    The brain of the operation. All modules are connected to this class in one way or another.

    Constructors:
        `User.create_console`;`User.get_console_by_id`;`User.consoles()`  -&gt; **Console**

        `User.get_file_by_path`;`User.create_file` -&gt; **File**

        `User.tasks`;`User.get_sched_task_by_id`;`User.create_sched_task` -&gt; **SchedTask**

        `User.tasks`;`User.create_always_on_task`;`User.get_always_on_task_by_id` -&gt; **AlwaysOnTask**

        `User.get_webapp_by_domain_name`;`User.webapps`;`User.create_webapp` -&gt; **WebApp**
    &#34;&#34;&#34;

    def __init__(self, username: str, auth: str, from_eu: bool = False) -&gt; None:
        &#34;&#34;&#34;
        Args:
            username (str): Username of the account
            auth (str): API token of the account
            from_eu (bool): Whether you are from europe or not, because European accounts API URL is different
        &#34;&#34;&#34;
        self.use_cache = True
        self.cache: cache_type = {}
        self.disable_cache = ()

        self.from_eu = from_eu
        self.username = username
        self.token = auth

        self.session = requests.Session()
        self.headers = {&#34;Authorization&#34;: f&#34;Token {self.token}&#34;}
        self.request_url = (
            &#34;https://www.pythonanywhere.com&#34;
            if not self.from_eu
            else &#34;https://eu.pythonanywhere.com&#34;
        )

        if len(self.token) != 40:
            raise_error((401, &#34;Invalid token.&#34;))

    def request(self, method: str, url: str, **kwargs) -&gt; requests.models.Response:
        &#34;&#34;&#34;
        Custom function to send http requests which handles errors as well.

        Args:
            method (str): method for the http request
            url (str): URL for the http request
            **kwargs: any additional kwargs such as &#34;data&#34; for post requests

        Returns:
            requests.models.Response
        &#34;&#34;&#34;
        resp = self.session.request(
            method, self.request_url + url, headers=self.headers, **kwargs
        )

        try:
            jsoned = resp.json()
        except json.decoder.JSONDecodeError:
            pass
        else:
            for key in (&#34;detail&#34;, &#34;error&#34;, &#34;error_message&#34;, &#34;non_field_errors&#34;):
                if key in jsoned:
                    raise_error((resp.status_code, jsoned[key]))

        return resp

    @cache_func(seconds=300)
    def get_cpu_info(self) -&gt; dict:
        &#34;&#34;&#34;
        Gets CPU information.

        Returns:
            dict: dictionary that contains relevant information (next_reset_time, time_left, time_left_untiL_reset)
        &#34;&#34;&#34;
        return self.request(&#34;GET&#34;, f&#34;/api/v0/user/{self.username}/cpu/&#34;).json()

    def consoles(self) -&gt; dict[str, list[Console]]:
        &#34;&#34;&#34;
        Return a list of consoles for the user.

        Returns:
            Dict[str, List[Console]]:
            dictionary with keys (personal, shared) and values of shared and personal consoles.
        &#34;&#34;&#34;
        personal = self.request(&#34;GET&#34;, f&#34;/api/v0/user/{self.username}/consoles/&#34;).json()
        shared = self.request(
            &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/consoles/shared_with_you/&#34;
        ).json()

        return {
            &#34;personal&#34;: [Console(console, self) for console in personal],
            &#34;shared&#34;: [Console(console, self) for console in shared],
        }

    def get_console_by_id(self, id_: int) -&gt; Console:
        &#34;&#34;&#34;Get a console by its id.&#34;&#34;&#34;
        resp = self.request(
            &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/consoles/{id_}&#34;
        ).json()

        return Console(resp, self)

    def create_console(
        self, executable: str, workingdir: str = None, arguments: str = &#34;&#34;
    ) -&gt; Optional[Console]:
        &#34;&#34;&#34;
        Creates a console. Console must be started upon creation to send input to it.

        Args:
            executable (str): executable for the console to use (example python3.8)
            workingdir (str): console arguments
            arguments (str): working directory for console

        Examples:
            &gt;&gt;&gt; User(...).create_console(&#39;python3.8&#39;)

        Returns:
            Optional[Console]: console object, console sucessfully created or None if console limit was hit
        &#34;&#34;&#34;
        try:
            resp = self.request(
                &#34;POST&#34;,
                f&#34;/api/v0/user/{self.username}/consoles/&#34;,
                data={
                    &#34;executable&#34;: executable,
                    &#34;arguments&#34;: arguments,
                    &#34;working_directory&#34;: workingdir,
                },
            ).json()

            return Console(resp, self)

        except json.decoder.JSONDecodeError:
            raise_error((403, &#34;You&#39;ve reached the maximum number of consoles.&#34;))

    def listdir(
        self, path: str, recursive: bool = False, only_subdirectories: bool = True
    ) -&gt; Iterator[str]:
        &#34;&#34;&#34;
        List dir that crawls into dirs (if recursive is set to true), if not, list files and sub-dirs in a directory.

        Args:
            path (str): path to be &#34;searched&#34; for files / subdirs
            recursive (bool): option whether subdirs and subdirs inside should be searched and so-on
            only_subdirectories (bool): self explanatory

        Examples:
            &gt;&gt;&gt; User(...).listdir(&#39;/home/yourname/my_site/&#39;, recursive=True)

        Returns:
            Iterator[str]: generator with paths
        &#34;&#34;&#34;
        resp = self.request(
            &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/files/tree/?path={path}&#34;
        ).json()

        if not recursive:
            yield resp
            return

        for path in resp:
            if path.endswith(&#34;/&#34;):
                yield from self.listdir(path, True, not only_subdirectories)
            elif only_subdirectories:
                yield path

    def get_file_by_path(self, path: str) -&gt; File:
        &#34;&#34;&#34;
        Function to get a file. Does not error if not found.

        Args:
            path (str): path to the file

        Returns:
            File: File class (see pyaww.file)
        &#34;&#34;&#34;

        return File(path, self)

    def create_file(self, path: str, file: TextIO) -&gt; File:
        &#34;&#34;&#34;
        Create or update a file at a path.

        Args:
            path (str): path as to where the file shall be created (must include name + file extension in path)
            file (TextIO): file to be created / updated

        Examples:
            &gt;&gt;&gt; with open(&#39;./grocery_list.txt&#39;) as f:
            &gt;&gt;&gt;    User(...).create_file(&#39;/home/yourname/grocery_list.txt&#39;, f)
        &#34;&#34;&#34;
        self.request(
            &#34;POST&#34;,
            f&#34;/api/v0/user/{self.username}/files/path/{path}&#34;,
            files={&#34;content&#34;: file},
        )

        return File(path, self)

    @cache_func(300)
    def students(self) -&gt; dict:
        &#34;&#34;&#34;List students of the user.&#34;&#34;&#34;
        return self.request(&#34;GET&#34;, f&#34;/api/v0/user/{self.username}/students/&#34;).json()

    def remove_student(self, student: str) -&gt; None:
        &#34;&#34;&#34;Remove a student from the students list.&#34;&#34;&#34;
        self.request(&#34;DELETE&#34;, f&#34;/api/v0/user/{self.username}/students/{student}&#34;)

    def tasks(self) -&gt; dict[str, list]:
        &#34;&#34;&#34;
        Get tasks for the user.

        Returns:
            dictionary containing both scheduled and always_on tasks
        &#34;&#34;&#34;
        schedules = self.request(
            &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/schedule/&#34;
        ).json()
        always_on = self.request(
            &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/always_on&#34;
        ).json()
        return {
            &#34;scheduled_tasks&#34;: [SchedTask(i, self) for i in schedules],
            &#34;always_on_tasks&#34;: [AlwaysOnTask(i, self) for i in always_on],
        }

    def get_sched_task_by_id(self, id_: int) -&gt; SchedTask:
        &#34;&#34;&#34;Get a scheduled task via it&#39;s id.&#34;&#34;&#34;
        resp = self.request(
            &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/schedule/{id_}/&#34;
        ).json()
        return SchedTask(resp, self)

    def create_sched_task(
        self,
        command: str,
        minute: str,
        hour: str,
        interval: str = &#34;daily&#34;,
        enabled: bool = True,
        description: str = &#34;&#34;,
    ) -&gt; SchedTask:
        &#34;&#34;&#34;
        Create a scheduled task. All times are in UTC.

        Args:
            command (str): command to be executed every x time
            minute (str): minute: minute when the task should be executed
            hour (str): hour when the task should be executed
            interval (str): frequency the task should happen (example, daily)
            enabled (bool): option as to whether the task should be enabled
            description (str): description of the task

        Examples:
            &gt;&gt;&gt; User(...).create_sched_task(&#39;cmd&#39;, &#39;5&#39;, &#39;5&#39;, &#39;daily&#39;, False, &#39;do &#34;cmd&#34;&#39;)

        Returns:
            SchedTask
        &#34;&#34;&#34;
        data = {
            &#34;command&#34;: command,
            &#34;enabled&#34;: enabled,
            &#34;interval&#34;: interval,
            &#34;hour&#34;: hour,
            &#34;minute&#34;: minute,
            &#34;description&#34;: description,
        }

        resp = self.request(
            &#34;POST&#34;, f&#34;/api/v0/user/{self.username}/schedule/&#34;, data=data
        ).json()
        return SchedTask(resp, self)

    def create_always_on_task(
        self, command: str, description: str = &#34;&#34;, enabled: bool = True
    ) -&gt; AlwaysOnTask:
        &#34;&#34;&#34;
        Creates a always_on task, do not confuse it with a scheduled task.

        Args:
            command (str): command to be executed
            description (str): description of the task
            enabled (bool): whether the task should be enabled upon creation

        Examples:
            &gt;&gt;&gt; User(...).create_always_on_task(&#39;/home/yourname/myscript.py&#39;, &#39;Scrape a website&#39;, True)

        Returns:
            AlwaysOnTask
        &#34;&#34;&#34;
        data = {&#34;command&#34;: command, &#34;description&#34;: description, &#34;enabled&#34;: enabled}

        resp = self.request(
            &#34;POST&#34;, f&#34;/api/v0/user/{self.username}/always_on/&#34;, data=data
        ).json()
        return AlwaysOnTask(resp, self)

    def get_always_on_task_by_id(self, id_: int) -&gt; AlwaysOnTask:
        &#34;&#34;&#34;Gets an always_on task.&#34;&#34;&#34;
        resp = self.request(
            &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/always_on/{id_}/&#34;
        ).json()
        return AlwaysOnTask(resp, self)

    @cache_func(seconds=180)
    def python_versions(self) -&gt; list:
        &#34;&#34;&#34;Get all 3 (&#34;python3&#34;, &#34;python&#34; and &#34;run button&#34;) versions.&#34;&#34;&#34;
        return [
            self.request(
                &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/default_python3_version/&#34;
            ).json(),
            self.request(
                &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/default_python_version/&#34;
            ).json(),
            self.request(
                &#34;GET&#34;,
                f&#34;/api/v0/user/{self.username}/default_save_and_run_python_version/&#34;,
            ).json(),
        ]

    def set_python_version(self, version: float, command: str) -&gt; None:
        &#34;&#34;&#34;
        Set default python version.

        Args:
            version (float): version to be set
            command (str): takes &#34;python3&#34;, &#34;python&#34; and/or &#34;save_and_run_python&#34;

        Examples:
            &gt;&gt;&gt; User(...).set_python_version(3.8, &#39;python3&#39;)
        &#34;&#34;&#34;
        self.request(
            &#34;PATCH&#34;,
            f&#34;/api/v0/user/{self.username}/default_{command}_version/&#34;,
            data={f&#34;default_{command}_version&#34;: version},
        )

    @cache_func(seconds=300)
    def get_system_image(self) -&gt; dict:
        &#34;&#34;&#34;
        Get the current system image.

        The system image for your account determines the versions of Python that you can use and the packages that
        are pre-installed.
        &#34;&#34;&#34;
        return self.request(&#34;GET&#34;, f&#34;/api/v0/user/{self.username}/system_image/&#34;).json()

    def set_system_image(self, system_image: str) -&gt; None:
        &#34;&#34;&#34;
        Set the system image. Please see https://help.pythonanywhere.com/pages/ChangingSystemImage for the table.

        Args:
            system_image (str): system image to be set
        &#34;&#34;&#34;
        self.request(
            &#34;PATCH&#34;,
            f&#34;/api/v0/user/{self.username}/system_image/&#34;,
            data={&#34;system_image&#34;: system_image},
        )

    def get_webapp_by_domain_name(self, domain_name: str) -&gt; WebApp:
        &#34;&#34;&#34;Get a webapp via its domain.&#34;&#34;&#34;
        resp = self.request(
            &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/webapps/{domain_name}/&#34;
        ).json()
        return WebApp(resp, self)

    @cache_func(300)
    def webapps(self) -&gt; list[WebApp]:
        &#34;&#34;&#34;Get webapps for the user.&#34;&#34;&#34;
        resp = self.request(&#34;GET&#34;, f&#34;/api/v0/user/{self.username}/webapps/&#34;).json()
        return [WebApp(i, self) for i in resp]

    def create_webapp(self, domain_name: str, python_version: str) -&gt; WebApp:
        &#34;&#34;&#34;
        Creata a webapp.

        Args:
            domain_name (str): domain name of the webapp
            python_version (str): python version for the webapp to use (ex: python37 which stands for python 3.7)

        Examples:
            &gt;&gt;&gt; User(...).create_webapp(&#39;username.pythonanywhere.com&#39;, &#39;python39&#39;)

        Returns:
            WebApp
        &#34;&#34;&#34;
        data = {&#34;domain_name&#34;: domain_name, &#34;python_version&#34;: python_version}

        self.request(
            &#34;POST&#34;, f&#34;/api/v0/user/{self.username}/webapps/&#34;, data=data
        ).json()  # does not return all the necessary data for pyaww.WebApps init
        return self.get_webapp_by_domain_name(domain_name=domain_name)

    def __enter__(self):
        return self

    def __del__(self):
        self.session.close()

    def __str__(self):
        return str(self.headers)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="pyaww.user.User"><code class="flex name class">
<span>class <span class="ident">User</span></span>
<span>(</span><span>username: str, auth: str, from_eu: bool = False)</span>
</code></dt>
<dd>
<div class="desc"><p>The brain of the operation. All modules are connected to this class in one way or another.</p>
<h2 id="constructors">Constructors</h2>
<p><code><a title="pyaww.user.User.create_console" href="#pyaww.user.User.create_console">User.create_console()</a></code>;<code><a title="pyaww.user.User.get_console_by_id" href="#pyaww.user.User.get_console_by_id">User.get_console_by_id()</a></code>;<code><a title="pyaww.user.User.consoles" href="#pyaww.user.User.consoles">User.consoles()</a></code>
-&gt; <strong>Console</strong></p>
<p><code><a title="pyaww.user.User.get_file_by_path" href="#pyaww.user.User.get_file_by_path">User.get_file_by_path()</a></code>;<code><a title="pyaww.user.User.create_file" href="#pyaww.user.User.create_file">User.create_file()</a></code> -&gt; <strong>File</strong></p>
<p><code><a title="pyaww.user.User.tasks" href="#pyaww.user.User.tasks">User.tasks()</a></code>;<code><a title="pyaww.user.User.get_sched_task_by_id" href="#pyaww.user.User.get_sched_task_by_id">User.get_sched_task_by_id()</a></code>;<code><a title="pyaww.user.User.create_sched_task" href="#pyaww.user.User.create_sched_task">User.create_sched_task()</a></code> -&gt; <strong>SchedTask</strong></p>
<p><code><a title="pyaww.user.User.tasks" href="#pyaww.user.User.tasks">User.tasks()</a></code>;<code><a title="pyaww.user.User.create_always_on_task" href="#pyaww.user.User.create_always_on_task">User.create_always_on_task()</a></code>;<code><a title="pyaww.user.User.get_always_on_task_by_id" href="#pyaww.user.User.get_always_on_task_by_id">User.get_always_on_task_by_id()</a></code> -&gt; <strong>AlwaysOnTask</strong></p>
<p><code><a title="pyaww.user.User.get_webapp_by_domain_name" href="#pyaww.user.User.get_webapp_by_domain_name">User.get_webapp_by_domain_name()</a></code>;<code><a title="pyaww.user.User.webapps" href="#pyaww.user.User.webapps">User.webapps()</a></code>;<code><a title="pyaww.user.User.create_webapp" href="#pyaww.user.User.create_webapp">User.create_webapp()</a></code> -&gt; <strong>WebApp</strong></p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>username</code></strong> :&ensp;<code>str</code></dt>
<dd>Username of the account</dd>
<dt><strong><code>auth</code></strong> :&ensp;<code>str</code></dt>
<dd>API token of the account</dd>
<dt><strong><code>from_eu</code></strong> :&ensp;<code>bool</code></dt>
<dd>Whether you are from europe or not, because European accounts API URL is different</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class User:
    &#34;&#34;&#34;
    The brain of the operation. All modules are connected to this class in one way or another.

    Constructors:
        `User.create_console`;`User.get_console_by_id`;`User.consoles()`  -&gt; **Console**

        `User.get_file_by_path`;`User.create_file` -&gt; **File**

        `User.tasks`;`User.get_sched_task_by_id`;`User.create_sched_task` -&gt; **SchedTask**

        `User.tasks`;`User.create_always_on_task`;`User.get_always_on_task_by_id` -&gt; **AlwaysOnTask**

        `User.get_webapp_by_domain_name`;`User.webapps`;`User.create_webapp` -&gt; **WebApp**
    &#34;&#34;&#34;

    def __init__(self, username: str, auth: str, from_eu: bool = False) -&gt; None:
        &#34;&#34;&#34;
        Args:
            username (str): Username of the account
            auth (str): API token of the account
            from_eu (bool): Whether you are from europe or not, because European accounts API URL is different
        &#34;&#34;&#34;
        self.use_cache = True
        self.cache: cache_type = {}
        self.disable_cache = ()

        self.from_eu = from_eu
        self.username = username
        self.token = auth

        self.session = requests.Session()
        self.headers = {&#34;Authorization&#34;: f&#34;Token {self.token}&#34;}
        self.request_url = (
            &#34;https://www.pythonanywhere.com&#34;
            if not self.from_eu
            else &#34;https://eu.pythonanywhere.com&#34;
        )

        if len(self.token) != 40:
            raise_error((401, &#34;Invalid token.&#34;))

    def request(self, method: str, url: str, **kwargs) -&gt; requests.models.Response:
        &#34;&#34;&#34;
        Custom function to send http requests which handles errors as well.

        Args:
            method (str): method for the http request
            url (str): URL for the http request
            **kwargs: any additional kwargs such as &#34;data&#34; for post requests

        Returns:
            requests.models.Response
        &#34;&#34;&#34;
        resp = self.session.request(
            method, self.request_url + url, headers=self.headers, **kwargs
        )

        try:
            jsoned = resp.json()
        except json.decoder.JSONDecodeError:
            pass
        else:
            for key in (&#34;detail&#34;, &#34;error&#34;, &#34;error_message&#34;, &#34;non_field_errors&#34;):
                if key in jsoned:
                    raise_error((resp.status_code, jsoned[key]))

        return resp

    @cache_func(seconds=300)
    def get_cpu_info(self) -&gt; dict:
        &#34;&#34;&#34;
        Gets CPU information.

        Returns:
            dict: dictionary that contains relevant information (next_reset_time, time_left, time_left_untiL_reset)
        &#34;&#34;&#34;
        return self.request(&#34;GET&#34;, f&#34;/api/v0/user/{self.username}/cpu/&#34;).json()

    def consoles(self) -&gt; dict[str, list[Console]]:
        &#34;&#34;&#34;
        Return a list of consoles for the user.

        Returns:
            Dict[str, List[Console]]:
            dictionary with keys (personal, shared) and values of shared and personal consoles.
        &#34;&#34;&#34;
        personal = self.request(&#34;GET&#34;, f&#34;/api/v0/user/{self.username}/consoles/&#34;).json()
        shared = self.request(
            &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/consoles/shared_with_you/&#34;
        ).json()

        return {
            &#34;personal&#34;: [Console(console, self) for console in personal],
            &#34;shared&#34;: [Console(console, self) for console in shared],
        }

    def get_console_by_id(self, id_: int) -&gt; Console:
        &#34;&#34;&#34;Get a console by its id.&#34;&#34;&#34;
        resp = self.request(
            &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/consoles/{id_}&#34;
        ).json()

        return Console(resp, self)

    def create_console(
        self, executable: str, workingdir: str = None, arguments: str = &#34;&#34;
    ) -&gt; Optional[Console]:
        &#34;&#34;&#34;
        Creates a console. Console must be started upon creation to send input to it.

        Args:
            executable (str): executable for the console to use (example python3.8)
            workingdir (str): console arguments
            arguments (str): working directory for console

        Examples:
            &gt;&gt;&gt; User(...).create_console(&#39;python3.8&#39;)

        Returns:
            Optional[Console]: console object, console sucessfully created or None if console limit was hit
        &#34;&#34;&#34;
        try:
            resp = self.request(
                &#34;POST&#34;,
                f&#34;/api/v0/user/{self.username}/consoles/&#34;,
                data={
                    &#34;executable&#34;: executable,
                    &#34;arguments&#34;: arguments,
                    &#34;working_directory&#34;: workingdir,
                },
            ).json()

            return Console(resp, self)

        except json.decoder.JSONDecodeError:
            raise_error((403, &#34;You&#39;ve reached the maximum number of consoles.&#34;))

    def listdir(
        self, path: str, recursive: bool = False, only_subdirectories: bool = True
    ) -&gt; Iterator[str]:
        &#34;&#34;&#34;
        List dir that crawls into dirs (if recursive is set to true), if not, list files and sub-dirs in a directory.

        Args:
            path (str): path to be &#34;searched&#34; for files / subdirs
            recursive (bool): option whether subdirs and subdirs inside should be searched and so-on
            only_subdirectories (bool): self explanatory

        Examples:
            &gt;&gt;&gt; User(...).listdir(&#39;/home/yourname/my_site/&#39;, recursive=True)

        Returns:
            Iterator[str]: generator with paths
        &#34;&#34;&#34;
        resp = self.request(
            &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/files/tree/?path={path}&#34;
        ).json()

        if not recursive:
            yield resp
            return

        for path in resp:
            if path.endswith(&#34;/&#34;):
                yield from self.listdir(path, True, not only_subdirectories)
            elif only_subdirectories:
                yield path

    def get_file_by_path(self, path: str) -&gt; File:
        &#34;&#34;&#34;
        Function to get a file. Does not error if not found.

        Args:
            path (str): path to the file

        Returns:
            File: File class (see pyaww.file)
        &#34;&#34;&#34;

        return File(path, self)

    def create_file(self, path: str, file: TextIO) -&gt; File:
        &#34;&#34;&#34;
        Create or update a file at a path.

        Args:
            path (str): path as to where the file shall be created (must include name + file extension in path)
            file (TextIO): file to be created / updated

        Examples:
            &gt;&gt;&gt; with open(&#39;./grocery_list.txt&#39;) as f:
            &gt;&gt;&gt;    User(...).create_file(&#39;/home/yourname/grocery_list.txt&#39;, f)
        &#34;&#34;&#34;
        self.request(
            &#34;POST&#34;,
            f&#34;/api/v0/user/{self.username}/files/path/{path}&#34;,
            files={&#34;content&#34;: file},
        )

        return File(path, self)

    @cache_func(300)
    def students(self) -&gt; dict:
        &#34;&#34;&#34;List students of the user.&#34;&#34;&#34;
        return self.request(&#34;GET&#34;, f&#34;/api/v0/user/{self.username}/students/&#34;).json()

    def remove_student(self, student: str) -&gt; None:
        &#34;&#34;&#34;Remove a student from the students list.&#34;&#34;&#34;
        self.request(&#34;DELETE&#34;, f&#34;/api/v0/user/{self.username}/students/{student}&#34;)

    def tasks(self) -&gt; dict[str, list]:
        &#34;&#34;&#34;
        Get tasks for the user.

        Returns:
            dictionary containing both scheduled and always_on tasks
        &#34;&#34;&#34;
        schedules = self.request(
            &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/schedule/&#34;
        ).json()
        always_on = self.request(
            &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/always_on&#34;
        ).json()
        return {
            &#34;scheduled_tasks&#34;: [SchedTask(i, self) for i in schedules],
            &#34;always_on_tasks&#34;: [AlwaysOnTask(i, self) for i in always_on],
        }

    def get_sched_task_by_id(self, id_: int) -&gt; SchedTask:
        &#34;&#34;&#34;Get a scheduled task via it&#39;s id.&#34;&#34;&#34;
        resp = self.request(
            &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/schedule/{id_}/&#34;
        ).json()
        return SchedTask(resp, self)

    def create_sched_task(
        self,
        command: str,
        minute: str,
        hour: str,
        interval: str = &#34;daily&#34;,
        enabled: bool = True,
        description: str = &#34;&#34;,
    ) -&gt; SchedTask:
        &#34;&#34;&#34;
        Create a scheduled task. All times are in UTC.

        Args:
            command (str): command to be executed every x time
            minute (str): minute: minute when the task should be executed
            hour (str): hour when the task should be executed
            interval (str): frequency the task should happen (example, daily)
            enabled (bool): option as to whether the task should be enabled
            description (str): description of the task

        Examples:
            &gt;&gt;&gt; User(...).create_sched_task(&#39;cmd&#39;, &#39;5&#39;, &#39;5&#39;, &#39;daily&#39;, False, &#39;do &#34;cmd&#34;&#39;)

        Returns:
            SchedTask
        &#34;&#34;&#34;
        data = {
            &#34;command&#34;: command,
            &#34;enabled&#34;: enabled,
            &#34;interval&#34;: interval,
            &#34;hour&#34;: hour,
            &#34;minute&#34;: minute,
            &#34;description&#34;: description,
        }

        resp = self.request(
            &#34;POST&#34;, f&#34;/api/v0/user/{self.username}/schedule/&#34;, data=data
        ).json()
        return SchedTask(resp, self)

    def create_always_on_task(
        self, command: str, description: str = &#34;&#34;, enabled: bool = True
    ) -&gt; AlwaysOnTask:
        &#34;&#34;&#34;
        Creates a always_on task, do not confuse it with a scheduled task.

        Args:
            command (str): command to be executed
            description (str): description of the task
            enabled (bool): whether the task should be enabled upon creation

        Examples:
            &gt;&gt;&gt; User(...).create_always_on_task(&#39;/home/yourname/myscript.py&#39;, &#39;Scrape a website&#39;, True)

        Returns:
            AlwaysOnTask
        &#34;&#34;&#34;
        data = {&#34;command&#34;: command, &#34;description&#34;: description, &#34;enabled&#34;: enabled}

        resp = self.request(
            &#34;POST&#34;, f&#34;/api/v0/user/{self.username}/always_on/&#34;, data=data
        ).json()
        return AlwaysOnTask(resp, self)

    def get_always_on_task_by_id(self, id_: int) -&gt; AlwaysOnTask:
        &#34;&#34;&#34;Gets an always_on task.&#34;&#34;&#34;
        resp = self.request(
            &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/always_on/{id_}/&#34;
        ).json()
        return AlwaysOnTask(resp, self)

    @cache_func(seconds=180)
    def python_versions(self) -&gt; list:
        &#34;&#34;&#34;Get all 3 (&#34;python3&#34;, &#34;python&#34; and &#34;run button&#34;) versions.&#34;&#34;&#34;
        return [
            self.request(
                &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/default_python3_version/&#34;
            ).json(),
            self.request(
                &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/default_python_version/&#34;
            ).json(),
            self.request(
                &#34;GET&#34;,
                f&#34;/api/v0/user/{self.username}/default_save_and_run_python_version/&#34;,
            ).json(),
        ]

    def set_python_version(self, version: float, command: str) -&gt; None:
        &#34;&#34;&#34;
        Set default python version.

        Args:
            version (float): version to be set
            command (str): takes &#34;python3&#34;, &#34;python&#34; and/or &#34;save_and_run_python&#34;

        Examples:
            &gt;&gt;&gt; User(...).set_python_version(3.8, &#39;python3&#39;)
        &#34;&#34;&#34;
        self.request(
            &#34;PATCH&#34;,
            f&#34;/api/v0/user/{self.username}/default_{command}_version/&#34;,
            data={f&#34;default_{command}_version&#34;: version},
        )

    @cache_func(seconds=300)
    def get_system_image(self) -&gt; dict:
        &#34;&#34;&#34;
        Get the current system image.

        The system image for your account determines the versions of Python that you can use and the packages that
        are pre-installed.
        &#34;&#34;&#34;
        return self.request(&#34;GET&#34;, f&#34;/api/v0/user/{self.username}/system_image/&#34;).json()

    def set_system_image(self, system_image: str) -&gt; None:
        &#34;&#34;&#34;
        Set the system image. Please see https://help.pythonanywhere.com/pages/ChangingSystemImage for the table.

        Args:
            system_image (str): system image to be set
        &#34;&#34;&#34;
        self.request(
            &#34;PATCH&#34;,
            f&#34;/api/v0/user/{self.username}/system_image/&#34;,
            data={&#34;system_image&#34;: system_image},
        )

    def get_webapp_by_domain_name(self, domain_name: str) -&gt; WebApp:
        &#34;&#34;&#34;Get a webapp via its domain.&#34;&#34;&#34;
        resp = self.request(
            &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/webapps/{domain_name}/&#34;
        ).json()
        return WebApp(resp, self)

    @cache_func(300)
    def webapps(self) -&gt; list[WebApp]:
        &#34;&#34;&#34;Get webapps for the user.&#34;&#34;&#34;
        resp = self.request(&#34;GET&#34;, f&#34;/api/v0/user/{self.username}/webapps/&#34;).json()
        return [WebApp(i, self) for i in resp]

    def create_webapp(self, domain_name: str, python_version: str) -&gt; WebApp:
        &#34;&#34;&#34;
        Creata a webapp.

        Args:
            domain_name (str): domain name of the webapp
            python_version (str): python version for the webapp to use (ex: python37 which stands for python 3.7)

        Examples:
            &gt;&gt;&gt; User(...).create_webapp(&#39;username.pythonanywhere.com&#39;, &#39;python39&#39;)

        Returns:
            WebApp
        &#34;&#34;&#34;
        data = {&#34;domain_name&#34;: domain_name, &#34;python_version&#34;: python_version}

        self.request(
            &#34;POST&#34;, f&#34;/api/v0/user/{self.username}/webapps/&#34;, data=data
        ).json()  # does not return all the necessary data for pyaww.WebApps init
        return self.get_webapp_by_domain_name(domain_name=domain_name)

    def __enter__(self):
        return self

    def __del__(self):
        self.session.close()

    def __str__(self):
        return str(self.headers)</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="pyaww.user.User.consoles"><code class="name flex">
<span>def <span class="ident">consoles</span></span>(<span>self) ‑> dict</span>
</code></dt>
<dd>
<div class="desc"><p>Return a list of consoles for the user.</p>
<h2 id="returns">Returns</h2>
<p>Dict[str, List[Console]]:
dictionary with keys (personal, shared) and values of shared and personal consoles.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def consoles(self) -&gt; dict[str, list[Console]]:
    &#34;&#34;&#34;
    Return a list of consoles for the user.

    Returns:
        Dict[str, List[Console]]:
        dictionary with keys (personal, shared) and values of shared and personal consoles.
    &#34;&#34;&#34;
    personal = self.request(&#34;GET&#34;, f&#34;/api/v0/user/{self.username}/consoles/&#34;).json()
    shared = self.request(
        &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/consoles/shared_with_you/&#34;
    ).json()

    return {
        &#34;personal&#34;: [Console(console, self) for console in personal],
        &#34;shared&#34;: [Console(console, self) for console in shared],
    }</code></pre>
</details>
</dd>
<dt id="pyaww.user.User.create_always_on_task"><code class="name flex">
<span>def <span class="ident">create_always_on_task</span></span>(<span>self, command: str, description: str = '', enabled: bool = True) ‑> <a title="pyaww.always_on_task.AlwaysOnTask" href="always_on_task.html#pyaww.always_on_task.AlwaysOnTask">AlwaysOnTask</a></span>
</code></dt>
<dd>
<div class="desc"><p>Creates a always_on task, do not confuse it with a scheduled task.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>command</code></strong> :&ensp;<code>str</code></dt>
<dd>command to be executed</dd>
<dt><strong><code>description</code></strong> :&ensp;<code>str</code></dt>
<dd>description of the task</dd>
<dt><strong><code>enabled</code></strong> :&ensp;<code>bool</code></dt>
<dd>whether the task should be enabled upon creation</dd>
</dl>
<h2 id="examples">Examples</h2>
<pre><code class="language-python-repl">&gt;&gt;&gt; User(...).create_always_on_task('/home/yourname/myscript.py', 'Scrape a website', True)
</code></pre>
<h2 id="returns">Returns</h2>
<p>AlwaysOnTask</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_always_on_task(
    self, command: str, description: str = &#34;&#34;, enabled: bool = True
) -&gt; AlwaysOnTask:
    &#34;&#34;&#34;
    Creates a always_on task, do not confuse it with a scheduled task.

    Args:
        command (str): command to be executed
        description (str): description of the task
        enabled (bool): whether the task should be enabled upon creation

    Examples:
        &gt;&gt;&gt; User(...).create_always_on_task(&#39;/home/yourname/myscript.py&#39;, &#39;Scrape a website&#39;, True)

    Returns:
        AlwaysOnTask
    &#34;&#34;&#34;
    data = {&#34;command&#34;: command, &#34;description&#34;: description, &#34;enabled&#34;: enabled}

    resp = self.request(
        &#34;POST&#34;, f&#34;/api/v0/user/{self.username}/always_on/&#34;, data=data
    ).json()
    return AlwaysOnTask(resp, self)</code></pre>
</details>
</dd>
<dt id="pyaww.user.User.create_console"><code class="name flex">
<span>def <span class="ident">create_console</span></span>(<span>self, executable: str, workingdir: str = None, arguments: str = '') ‑> Optional[<a title="pyaww.console.Console" href="console.html#pyaww.console.Console">Console</a>]</span>
</code></dt>
<dd>
<div class="desc"><p>Creates a console. Console must be started upon creation to send input to it.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>executable</code></strong> :&ensp;<code>str</code></dt>
<dd>executable for the console to use (example python3.8)</dd>
<dt><strong><code>workingdir</code></strong> :&ensp;<code>str</code></dt>
<dd>console arguments</dd>
<dt><strong><code>arguments</code></strong> :&ensp;<code>str</code></dt>
<dd>working directory for console</dd>
</dl>
<h2 id="examples">Examples</h2>
<pre><code class="language-python-repl">&gt;&gt;&gt; User(...).create_console('python3.8')
</code></pre>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Optional[Console]</code></dt>
<dd>console object, console sucessfully created or None if console limit was hit</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_console(
    self, executable: str, workingdir: str = None, arguments: str = &#34;&#34;
) -&gt; Optional[Console]:
    &#34;&#34;&#34;
    Creates a console. Console must be started upon creation to send input to it.

    Args:
        executable (str): executable for the console to use (example python3.8)
        workingdir (str): console arguments
        arguments (str): working directory for console

    Examples:
        &gt;&gt;&gt; User(...).create_console(&#39;python3.8&#39;)

    Returns:
        Optional[Console]: console object, console sucessfully created or None if console limit was hit
    &#34;&#34;&#34;
    try:
        resp = self.request(
            &#34;POST&#34;,
            f&#34;/api/v0/user/{self.username}/consoles/&#34;,
            data={
                &#34;executable&#34;: executable,
                &#34;arguments&#34;: arguments,
                &#34;working_directory&#34;: workingdir,
            },
        ).json()

        return Console(resp, self)

    except json.decoder.JSONDecodeError:
        raise_error((403, &#34;You&#39;ve reached the maximum number of consoles.&#34;))</code></pre>
</details>
</dd>
<dt id="pyaww.user.User.create_file"><code class="name flex">
<span>def <span class="ident">create_file</span></span>(<span>self, path: str, file: <class 'TextIO'>) ‑> <a title="pyaww.file.File" href="file.html#pyaww.file.File">File</a></span>
</code></dt>
<dd>
<div class="desc"><p>Create or update a file at a path.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>path</code></strong> :&ensp;<code>str</code></dt>
<dd>path as to where the file shall be created (must include name + file extension in path)</dd>
<dt><strong><code>file</code></strong> :&ensp;<code>TextIO</code></dt>
<dd>file to be created / updated</dd>
</dl>
<h2 id="examples">Examples</h2>
<pre><code class="language-python-repl">&gt;&gt;&gt; with open('./grocery_list.txt') as f:
&gt;&gt;&gt;    User(...).create_file('/home/yourname/grocery_list.txt', f)
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_file(self, path: str, file: TextIO) -&gt; File:
    &#34;&#34;&#34;
    Create or update a file at a path.

    Args:
        path (str): path as to where the file shall be created (must include name + file extension in path)
        file (TextIO): file to be created / updated

    Examples:
        &gt;&gt;&gt; with open(&#39;./grocery_list.txt&#39;) as f:
        &gt;&gt;&gt;    User(...).create_file(&#39;/home/yourname/grocery_list.txt&#39;, f)
    &#34;&#34;&#34;
    self.request(
        &#34;POST&#34;,
        f&#34;/api/v0/user/{self.username}/files/path/{path}&#34;,
        files={&#34;content&#34;: file},
    )

    return File(path, self)</code></pre>
</details>
</dd>
<dt id="pyaww.user.User.create_sched_task"><code class="name flex">
<span>def <span class="ident">create_sched_task</span></span>(<span>self, command: str, minute: str, hour: str, interval: str = 'daily', enabled: bool = True, description: str = '') ‑> <a title="pyaww.sched_task.SchedTask" href="sched_task.html#pyaww.sched_task.SchedTask">SchedTask</a></span>
</code></dt>
<dd>
<div class="desc"><p>Create a scheduled task. All times are in UTC.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>command</code></strong> :&ensp;<code>str</code></dt>
<dd>command to be executed every x time</dd>
<dt><strong><code>minute</code></strong> :&ensp;<code>str</code></dt>
<dd>minute: minute when the task should be executed</dd>
<dt><strong><code>hour</code></strong> :&ensp;<code>str</code></dt>
<dd>hour when the task should be executed</dd>
<dt><strong><code>interval</code></strong> :&ensp;<code>str</code></dt>
<dd>frequency the task should happen (example, daily)</dd>
<dt><strong><code>enabled</code></strong> :&ensp;<code>bool</code></dt>
<dd>option as to whether the task should be enabled</dd>
<dt><strong><code>description</code></strong> :&ensp;<code>str</code></dt>
<dd>description of the task</dd>
</dl>
<h2 id="examples">Examples</h2>
<pre><code class="language-python-repl">&gt;&gt;&gt; User(...).create_sched_task('cmd', '5', '5', 'daily', False, 'do &quot;cmd&quot;')
</code></pre>
<h2 id="returns">Returns</h2>
<p>SchedTask</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_sched_task(
    self,
    command: str,
    minute: str,
    hour: str,
    interval: str = &#34;daily&#34;,
    enabled: bool = True,
    description: str = &#34;&#34;,
) -&gt; SchedTask:
    &#34;&#34;&#34;
    Create a scheduled task. All times are in UTC.

    Args:
        command (str): command to be executed every x time
        minute (str): minute: minute when the task should be executed
        hour (str): hour when the task should be executed
        interval (str): frequency the task should happen (example, daily)
        enabled (bool): option as to whether the task should be enabled
        description (str): description of the task

    Examples:
        &gt;&gt;&gt; User(...).create_sched_task(&#39;cmd&#39;, &#39;5&#39;, &#39;5&#39;, &#39;daily&#39;, False, &#39;do &#34;cmd&#34;&#39;)

    Returns:
        SchedTask
    &#34;&#34;&#34;
    data = {
        &#34;command&#34;: command,
        &#34;enabled&#34;: enabled,
        &#34;interval&#34;: interval,
        &#34;hour&#34;: hour,
        &#34;minute&#34;: minute,
        &#34;description&#34;: description,
    }

    resp = self.request(
        &#34;POST&#34;, f&#34;/api/v0/user/{self.username}/schedule/&#34;, data=data
    ).json()
    return SchedTask(resp, self)</code></pre>
</details>
</dd>
<dt id="pyaww.user.User.create_webapp"><code class="name flex">
<span>def <span class="ident">create_webapp</span></span>(<span>self, domain_name: str, python_version: str) ‑> <a title="pyaww.webapp.WebApp" href="webapp.html#pyaww.webapp.WebApp">WebApp</a></span>
</code></dt>
<dd>
<div class="desc"><p>Creata a webapp.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>domain_name</code></strong> :&ensp;<code>str</code></dt>
<dd>domain name of the webapp</dd>
<dt><strong><code>python_version</code></strong> :&ensp;<code>str</code></dt>
<dd>python version for the webapp to use (ex: python37 which stands for python 3.7)</dd>
</dl>
<h2 id="examples">Examples</h2>
<pre><code class="language-python-repl">&gt;&gt;&gt; User(...).create_webapp('username.pythonanywhere.com', 'python39')
</code></pre>
<h2 id="returns">Returns</h2>
<p>WebApp</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def create_webapp(self, domain_name: str, python_version: str) -&gt; WebApp:
    &#34;&#34;&#34;
    Creata a webapp.

    Args:
        domain_name (str): domain name of the webapp
        python_version (str): python version for the webapp to use (ex: python37 which stands for python 3.7)

    Examples:
        &gt;&gt;&gt; User(...).create_webapp(&#39;username.pythonanywhere.com&#39;, &#39;python39&#39;)

    Returns:
        WebApp
    &#34;&#34;&#34;
    data = {&#34;domain_name&#34;: domain_name, &#34;python_version&#34;: python_version}

    self.request(
        &#34;POST&#34;, f&#34;/api/v0/user/{self.username}/webapps/&#34;, data=data
    ).json()  # does not return all the necessary data for pyaww.WebApps init
    return self.get_webapp_by_domain_name(domain_name=domain_name)</code></pre>
</details>
</dd>
<dt id="pyaww.user.User.get_always_on_task_by_id"><code class="name flex">
<span>def <span class="ident">get_always_on_task_by_id</span></span>(<span>self, id_: int) ‑> <a title="pyaww.always_on_task.AlwaysOnTask" href="always_on_task.html#pyaww.always_on_task.AlwaysOnTask">AlwaysOnTask</a></span>
</code></dt>
<dd>
<div class="desc"><p>Gets an always_on task.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_always_on_task_by_id(self, id_: int) -&gt; AlwaysOnTask:
    &#34;&#34;&#34;Gets an always_on task.&#34;&#34;&#34;
    resp = self.request(
        &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/always_on/{id_}/&#34;
    ).json()
    return AlwaysOnTask(resp, self)</code></pre>
</details>
</dd>
<dt id="pyaww.user.User.get_console_by_id"><code class="name flex">
<span>def <span class="ident">get_console_by_id</span></span>(<span>self, id_: int) ‑> <a title="pyaww.console.Console" href="console.html#pyaww.console.Console">Console</a></span>
</code></dt>
<dd>
<div class="desc"><p>Get a console by its id.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_console_by_id(self, id_: int) -&gt; Console:
    &#34;&#34;&#34;Get a console by its id.&#34;&#34;&#34;
    resp = self.request(
        &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/consoles/{id_}&#34;
    ).json()

    return Console(resp, self)</code></pre>
</details>
</dd>
<dt id="pyaww.user.User.get_cpu_info"><code class="name flex">
<span>def <span class="ident">get_cpu_info</span></span>(<span>self) ‑> dict</span>
</code></dt>
<dd>
<div class="desc"><p>Gets CPU information.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>dictionary that contains relevant information (next_reset_time, time_left, time_left_untiL_reset)</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@cache_func(seconds=300)
def get_cpu_info(self) -&gt; dict:
    &#34;&#34;&#34;
    Gets CPU information.

    Returns:
        dict: dictionary that contains relevant information (next_reset_time, time_left, time_left_untiL_reset)
    &#34;&#34;&#34;
    return self.request(&#34;GET&#34;, f&#34;/api/v0/user/{self.username}/cpu/&#34;).json()</code></pre>
</details>
</dd>
<dt id="pyaww.user.User.get_file_by_path"><code class="name flex">
<span>def <span class="ident">get_file_by_path</span></span>(<span>self, path: str) ‑> <a title="pyaww.file.File" href="file.html#pyaww.file.File">File</a></span>
</code></dt>
<dd>
<div class="desc"><p>Function to get a file. Does not error if not found.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>path</code></strong> :&ensp;<code>str</code></dt>
<dd>path to the file</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>File</code></dt>
<dd>File class (see pyaww.file)</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_file_by_path(self, path: str) -&gt; File:
    &#34;&#34;&#34;
    Function to get a file. Does not error if not found.

    Args:
        path (str): path to the file

    Returns:
        File: File class (see pyaww.file)
    &#34;&#34;&#34;

    return File(path, self)</code></pre>
</details>
</dd>
<dt id="pyaww.user.User.get_sched_task_by_id"><code class="name flex">
<span>def <span class="ident">get_sched_task_by_id</span></span>(<span>self, id_: int) ‑> <a title="pyaww.sched_task.SchedTask" href="sched_task.html#pyaww.sched_task.SchedTask">SchedTask</a></span>
</code></dt>
<dd>
<div class="desc"><p>Get a scheduled task via it's id.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_sched_task_by_id(self, id_: int) -&gt; SchedTask:
    &#34;&#34;&#34;Get a scheduled task via it&#39;s id.&#34;&#34;&#34;
    resp = self.request(
        &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/schedule/{id_}/&#34;
    ).json()
    return SchedTask(resp, self)</code></pre>
</details>
</dd>
<dt id="pyaww.user.User.get_system_image"><code class="name flex">
<span>def <span class="ident">get_system_image</span></span>(<span>self) ‑> dict</span>
</code></dt>
<dd>
<div class="desc"><p>Get the current system image.</p>
<p>The system image for your account determines the versions of Python that you can use and the packages that
are pre-installed.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@cache_func(seconds=300)
def get_system_image(self) -&gt; dict:
    &#34;&#34;&#34;
    Get the current system image.

    The system image for your account determines the versions of Python that you can use and the packages that
    are pre-installed.
    &#34;&#34;&#34;
    return self.request(&#34;GET&#34;, f&#34;/api/v0/user/{self.username}/system_image/&#34;).json()</code></pre>
</details>
</dd>
<dt id="pyaww.user.User.get_webapp_by_domain_name"><code class="name flex">
<span>def <span class="ident">get_webapp_by_domain_name</span></span>(<span>self, domain_name: str) ‑> <a title="pyaww.webapp.WebApp" href="webapp.html#pyaww.webapp.WebApp">WebApp</a></span>
</code></dt>
<dd>
<div class="desc"><p>Get a webapp via its domain.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get_webapp_by_domain_name(self, domain_name: str) -&gt; WebApp:
    &#34;&#34;&#34;Get a webapp via its domain.&#34;&#34;&#34;
    resp = self.request(
        &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/webapps/{domain_name}/&#34;
    ).json()
    return WebApp(resp, self)</code></pre>
</details>
</dd>
<dt id="pyaww.user.User.listdir"><code class="name flex">
<span>def <span class="ident">listdir</span></span>(<span>self, path: str, recursive: bool = False, only_subdirectories: bool = True) ‑> Iterator[str]</span>
</code></dt>
<dd>
<div class="desc"><p>List dir that crawls into dirs (if recursive is set to true), if not, list files and sub-dirs in a directory.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>path</code></strong> :&ensp;<code>str</code></dt>
<dd>path to be "searched" for files / subdirs</dd>
<dt><strong><code>recursive</code></strong> :&ensp;<code>bool</code></dt>
<dd>option whether subdirs and subdirs inside should be searched and so-on</dd>
<dt><strong><code>only_subdirectories</code></strong> :&ensp;<code>bool</code></dt>
<dd>self explanatory</dd>
</dl>
<h2 id="examples">Examples</h2>
<pre><code class="language-python-repl">&gt;&gt;&gt; User(...).listdir('/home/yourname/my_site/', recursive=True)
</code></pre>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Iterator[str]</code></dt>
<dd>generator with paths</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def listdir(
    self, path: str, recursive: bool = False, only_subdirectories: bool = True
) -&gt; Iterator[str]:
    &#34;&#34;&#34;
    List dir that crawls into dirs (if recursive is set to true), if not, list files and sub-dirs in a directory.

    Args:
        path (str): path to be &#34;searched&#34; for files / subdirs
        recursive (bool): option whether subdirs and subdirs inside should be searched and so-on
        only_subdirectories (bool): self explanatory

    Examples:
        &gt;&gt;&gt; User(...).listdir(&#39;/home/yourname/my_site/&#39;, recursive=True)

    Returns:
        Iterator[str]: generator with paths
    &#34;&#34;&#34;
    resp = self.request(
        &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/files/tree/?path={path}&#34;
    ).json()

    if not recursive:
        yield resp
        return

    for path in resp:
        if path.endswith(&#34;/&#34;):
            yield from self.listdir(path, True, not only_subdirectories)
        elif only_subdirectories:
            yield path</code></pre>
</details>
</dd>
<dt id="pyaww.user.User.python_versions"><code class="name flex">
<span>def <span class="ident">python_versions</span></span>(<span>self) ‑> list</span>
</code></dt>
<dd>
<div class="desc"><p>Get all 3 ("python3", "python" and "run button") versions.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@cache_func(seconds=180)
def python_versions(self) -&gt; list:
    &#34;&#34;&#34;Get all 3 (&#34;python3&#34;, &#34;python&#34; and &#34;run button&#34;) versions.&#34;&#34;&#34;
    return [
        self.request(
            &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/default_python3_version/&#34;
        ).json(),
        self.request(
            &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/default_python_version/&#34;
        ).json(),
        self.request(
            &#34;GET&#34;,
            f&#34;/api/v0/user/{self.username}/default_save_and_run_python_version/&#34;,
        ).json(),
    ]</code></pre>
</details>
</dd>
<dt id="pyaww.user.User.remove_student"><code class="name flex">
<span>def <span class="ident">remove_student</span></span>(<span>self, student: str) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Remove a student from the students list.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def remove_student(self, student: str) -&gt; None:
    &#34;&#34;&#34;Remove a student from the students list.&#34;&#34;&#34;
    self.request(&#34;DELETE&#34;, f&#34;/api/v0/user/{self.username}/students/{student}&#34;)</code></pre>
</details>
</dd>
<dt id="pyaww.user.User.request"><code class="name flex">
<span>def <span class="ident">request</span></span>(<span>self, method: str, url: str, **kwargs) ‑> requests.models.Response</span>
</code></dt>
<dd>
<div class="desc"><p>Custom function to send http requests which handles errors as well.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>method</code></strong> :&ensp;<code>str</code></dt>
<dd>method for the http request</dd>
<dt><strong><code>url</code></strong> :&ensp;<code>str</code></dt>
<dd>URL for the http request</dd>
<dt><strong><code>**kwargs</code></strong></dt>
<dd>any additional kwargs such as "data" for post requests</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>requests.models.Response</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def request(self, method: str, url: str, **kwargs) -&gt; requests.models.Response:
    &#34;&#34;&#34;
    Custom function to send http requests which handles errors as well.

    Args:
        method (str): method for the http request
        url (str): URL for the http request
        **kwargs: any additional kwargs such as &#34;data&#34; for post requests

    Returns:
        requests.models.Response
    &#34;&#34;&#34;
    resp = self.session.request(
        method, self.request_url + url, headers=self.headers, **kwargs
    )

    try:
        jsoned = resp.json()
    except json.decoder.JSONDecodeError:
        pass
    else:
        for key in (&#34;detail&#34;, &#34;error&#34;, &#34;error_message&#34;, &#34;non_field_errors&#34;):
            if key in jsoned:
                raise_error((resp.status_code, jsoned[key]))

    return resp</code></pre>
</details>
</dd>
<dt id="pyaww.user.User.set_python_version"><code class="name flex">
<span>def <span class="ident">set_python_version</span></span>(<span>self, version: float, command: str) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Set default python version.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>version</code></strong> :&ensp;<code>float</code></dt>
<dd>version to be set</dd>
<dt><strong><code>command</code></strong> :&ensp;<code>str</code></dt>
<dd>takes "python3", "python" and/or "save_and_run_python"</dd>
</dl>
<h2 id="examples">Examples</h2>
<pre><code class="language-python-repl">&gt;&gt;&gt; User(...).set_python_version(3.8, 'python3')
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_python_version(self, version: float, command: str) -&gt; None:
    &#34;&#34;&#34;
    Set default python version.

    Args:
        version (float): version to be set
        command (str): takes &#34;python3&#34;, &#34;python&#34; and/or &#34;save_and_run_python&#34;

    Examples:
        &gt;&gt;&gt; User(...).set_python_version(3.8, &#39;python3&#39;)
    &#34;&#34;&#34;
    self.request(
        &#34;PATCH&#34;,
        f&#34;/api/v0/user/{self.username}/default_{command}_version/&#34;,
        data={f&#34;default_{command}_version&#34;: version},
    )</code></pre>
</details>
</dd>
<dt id="pyaww.user.User.set_system_image"><code class="name flex">
<span>def <span class="ident">set_system_image</span></span>(<span>self, system_image: str) ‑> None</span>
</code></dt>
<dd>
<div class="desc"><p>Set the system image. Please see <a href="https://help.pythonanywhere.com/pages/ChangingSystemImage">https://help.pythonanywhere.com/pages/ChangingSystemImage</a> for the table.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>system_image</code></strong> :&ensp;<code>str</code></dt>
<dd>system image to be set</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def set_system_image(self, system_image: str) -&gt; None:
    &#34;&#34;&#34;
    Set the system image. Please see https://help.pythonanywhere.com/pages/ChangingSystemImage for the table.

    Args:
        system_image (str): system image to be set
    &#34;&#34;&#34;
    self.request(
        &#34;PATCH&#34;,
        f&#34;/api/v0/user/{self.username}/system_image/&#34;,
        data={&#34;system_image&#34;: system_image},
    )</code></pre>
</details>
</dd>
<dt id="pyaww.user.User.students"><code class="name flex">
<span>def <span class="ident">students</span></span>(<span>self) ‑> dict</span>
</code></dt>
<dd>
<div class="desc"><p>List students of the user.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@cache_func(300)
def students(self) -&gt; dict:
    &#34;&#34;&#34;List students of the user.&#34;&#34;&#34;
    return self.request(&#34;GET&#34;, f&#34;/api/v0/user/{self.username}/students/&#34;).json()</code></pre>
</details>
</dd>
<dt id="pyaww.user.User.tasks"><code class="name flex">
<span>def <span class="ident">tasks</span></span>(<span>self) ‑> dict</span>
</code></dt>
<dd>
<div class="desc"><p>Get tasks for the user.</p>
<h2 id="returns">Returns</h2>
<p>dictionary containing both scheduled and always_on tasks</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def tasks(self) -&gt; dict[str, list]:
    &#34;&#34;&#34;
    Get tasks for the user.

    Returns:
        dictionary containing both scheduled and always_on tasks
    &#34;&#34;&#34;
    schedules = self.request(
        &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/schedule/&#34;
    ).json()
    always_on = self.request(
        &#34;GET&#34;, f&#34;/api/v0/user/{self.username}/always_on&#34;
    ).json()
    return {
        &#34;scheduled_tasks&#34;: [SchedTask(i, self) for i in schedules],
        &#34;always_on_tasks&#34;: [AlwaysOnTask(i, self) for i in always_on],
    }</code></pre>
</details>
</dd>
<dt id="pyaww.user.User.webapps"><code class="name flex">
<span>def <span class="ident">webapps</span></span>(<span>self) ‑> list</span>
</code></dt>
<dd>
<div class="desc"><p>Get webapps for the user.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@cache_func(300)
def webapps(self) -&gt; list[WebApp]:
    &#34;&#34;&#34;Get webapps for the user.&#34;&#34;&#34;
    resp = self.request(&#34;GET&#34;, f&#34;/api/v0/user/{self.username}/webapps/&#34;).json()
    return [WebApp(i, self) for i in resp]</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="pyaww" href="index.html">pyaww</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="pyaww.user.User" href="#pyaww.user.User">User</a></code></h4>
<ul class="">
<li><code><a title="pyaww.user.User.consoles" href="#pyaww.user.User.consoles">consoles</a></code></li>
<li><code><a title="pyaww.user.User.create_always_on_task" href="#pyaww.user.User.create_always_on_task">create_always_on_task</a></code></li>
<li><code><a title="pyaww.user.User.create_console" href="#pyaww.user.User.create_console">create_console</a></code></li>
<li><code><a title="pyaww.user.User.create_file" href="#pyaww.user.User.create_file">create_file</a></code></li>
<li><code><a title="pyaww.user.User.create_sched_task" href="#pyaww.user.User.create_sched_task">create_sched_task</a></code></li>
<li><code><a title="pyaww.user.User.create_webapp" href="#pyaww.user.User.create_webapp">create_webapp</a></code></li>
<li><code><a title="pyaww.user.User.get_always_on_task_by_id" href="#pyaww.user.User.get_always_on_task_by_id">get_always_on_task_by_id</a></code></li>
<li><code><a title="pyaww.user.User.get_console_by_id" href="#pyaww.user.User.get_console_by_id">get_console_by_id</a></code></li>
<li><code><a title="pyaww.user.User.get_cpu_info" href="#pyaww.user.User.get_cpu_info">get_cpu_info</a></code></li>
<li><code><a title="pyaww.user.User.get_file_by_path" href="#pyaww.user.User.get_file_by_path">get_file_by_path</a></code></li>
<li><code><a title="pyaww.user.User.get_sched_task_by_id" href="#pyaww.user.User.get_sched_task_by_id">get_sched_task_by_id</a></code></li>
<li><code><a title="pyaww.user.User.get_system_image" href="#pyaww.user.User.get_system_image">get_system_image</a></code></li>
<li><code><a title="pyaww.user.User.get_webapp_by_domain_name" href="#pyaww.user.User.get_webapp_by_domain_name">get_webapp_by_domain_name</a></code></li>
<li><code><a title="pyaww.user.User.listdir" href="#pyaww.user.User.listdir">listdir</a></code></li>
<li><code><a title="pyaww.user.User.python_versions" href="#pyaww.user.User.python_versions">python_versions</a></code></li>
<li><code><a title="pyaww.user.User.remove_student" href="#pyaww.user.User.remove_student">remove_student</a></code></li>
<li><code><a title="pyaww.user.User.request" href="#pyaww.user.User.request">request</a></code></li>
<li><code><a title="pyaww.user.User.set_python_version" href="#pyaww.user.User.set_python_version">set_python_version</a></code></li>
<li><code><a title="pyaww.user.User.set_system_image" href="#pyaww.user.User.set_system_image">set_system_image</a></code></li>
<li><code><a title="pyaww.user.User.students" href="#pyaww.user.User.students">students</a></code></li>
<li><code><a title="pyaww.user.User.tasks" href="#pyaww.user.User.tasks">tasks</a></code></li>
<li><code><a title="pyaww.user.User.webapps" href="#pyaww.user.User.webapps">webapps</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>